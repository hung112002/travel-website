<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>全ての観光地</title> <link rel="stylesheet" href="/css/style.css">
</head>
<div id="page-loader" class="page-loader">
    <div class="loader-content">
        <img src="/images/shimanekko.png" alt="Loading..." class="shimanekko-loader">
        <p class="loader-text">島根を探索中...</p>
    </div>
</div>

    <header class="main-header">
        <div class="nav-container">
            <div class="logo">
                <a href="/">
                    <svg width="35" height="35" viewBox="0 0 100 100" fill="none" class="logo-icon">
                        <circle cx="35.5" cy="35.5" r="17.5" stroke="#c5a059" stroke-width="8"/>
                        <circle cx="64.5" cy="35.5" r="17.5" stroke="#c5a059" stroke-width="8"/>
                        <circle cx="35.5" cy="64.5" r="17.5" stroke="#c5a059" stroke-width="8"/>
                        <circle cx="64.5" cy="64.5" r="17.5" stroke="#c5a059" stroke-width="8"/>
                    </svg>
                    <span class="logo-text">Shimane<span>Travel</span></span>
                </a>
            </div>
            <button class="hamburger-menu" id="hamburger-menu" aria-label="Menu">
                <span></span>
                <span></span>
                <span></span>
            </button>
            <nav class="nav-links" id="nav-links">
            <li><a href="/" class="nav-item">ホーム</a></li>
            <li><a href="/cuisine" class="nav-item">グルメ</a></li>
            <li><a href="/people" class="nav-item">匠・人物</a></li>
            <li><a href="/all-destinations" class="nav-item">全ての観光地</a></li>

                <% if (user) { %>
                    <div class="user-actions">
                        <a href="/profile" class="btn-member">
                            👤 <%= user.username %>
                        </a>
                        <a href="/logout" class="btn-logout">ログアウト</a>
                    </div>
                <% } else { %>
                    <a href="/login" class="btn-member">ログイン</a>
                <% } %>
            </nav>
        </div>
    </header>

    <main class="detail-container">
        <div class="page-header">
            <h1>全ての観光地</h1>
            <p class="page-subtitle">島根の素晴らしい観光地を探索しましょう</p>
        </div>
        
        <form action="/all-destinations" method="GET" class="search-bar-container">
    <div class="search-bar-wrapper">
        <div class="search-input-group">
            <div class="search-input-wrapper">
                <div class="location-select-wrapper">
                    <select name="location" class="location-dropdown-modern">
                        <option value="all" <%= typeof location !== 'undefined' && location === 'all' ? 'selected' : '' %>>エリア情報:全ての観光地 </option>
                        <option value="島根県松江市" <%= typeof location !== 'undefined' && location === '島根県松江市' ? 'selected' : '' %>>松江市</option>
                        <option value="島根県出雲市" <%= typeof location !== 'undefined' && location === '島根県出雲市' ? 'selected' : '' %>>出雲市</option>
                        <option value="島根県浜田市" <%= typeof location !== 'undefined' && location === '島根県浜田市' ? 'selected' : '' %>>浜田市</option>
                        <option value="島根県益田市" <%= typeof location !== 'undefined' && location === '島根県益田市' ? 'selected' : '' %>>益田市</option>
                        <option value="島根県大田市" <%= typeof location !== 'undefined' && location === '島根県大田市' ? 'selected' : '' %>>大田市</option>
                        <option value="島根県安来市" <%= typeof location !== 'undefined' && location === '島根県安来市' ? 'selected' : '' %>>安来市</option>
                        <option value="島根県江津市" <%= typeof location !== 'undefined' && location === '島根県江津市' ? 'selected' : '' %>>江津市</option>
                        <option value="島根県雲南市" <%= typeof location !== 'undefined' && location === '島根県雲南市' ? 'selected' : '' %>>雲南市</option>
                        <option value="島根県奥出雲町" <%= typeof location !== 'undefined' && location === '島根県奥出雲町' ? 'selected' : '' %>>奥出雲町</option>
                        <option value="島根県飯南町" <%= typeof location !== 'undefined' && location === '島根県飯南町' ? 'selected' : '' %>>飯南町</option>
                        <option value="島根県川本町" <%= typeof location !== 'undefined' && location === '島根県川本町' ? 'selected' : '' %>>川本町</option>
                        <option value="島根県美郷町" <%= typeof location !== 'undefined' && location === '島根県美郷町' ? 'selected' : '' %>>美郷町</option>
                        <option value="島根県邑南町" <%= typeof location !== 'undefined' && location === '島根県邑南町' ? 'selected' : '' %>>邑南町</option>
                        <option value="島根県津和野町" <%= typeof location !== 'undefined' && location === '島根県津和野町' ? 'selected' : '' %>>津和野町</option>
                        <option value="島根県吉賀町" <%= typeof location !== 'undefined' && location === '島根県吉賀町' ? 'selected' : '' %>>吉賀町</option>
                        <option value="島根県海士町" <%= typeof location !== 'undefined' && location === '島根県海士町' ? 'selected' : '' %>>海士町</option>
                        <option value="島根県西ノ島町" <%= typeof location !== 'undefined' && location === '島根県西ノ島町' ? 'selected' : '' %>>西ノ島町</option>
                        <option value="島根県隠岐の島町" <%= typeof location !== 'undefined' && location === '島根県隠岐の島町' ? 'selected' : '' %>>隠岐の島町</option>
                        <option value="島根県知夫村" <%= typeof location !== 'undefined' && location === '島根県知夫村' ? 'selected' : '' %>>知夫村</option>
                    </select>
                </div>

                <div class="search-divider"></div>

                <input 
                    type="text" 
                    name="search" 
                    placeholder="観光地の名前、場所を検索..." 
                    value="<%= typeof keyword !== 'undefined' ? keyword : '' %>"
                    class="search-input"
                >
            </div>
            <span class="search-icon">🔍</span>
        </div>

        <div class="filter-section">
            <div class="filter-title">カテゴリーで絞り込み</div>
            <div class="filter-options">
                <label class="filter-label">
                    <input type="checkbox" name="sea" value="1" <%= typeof sea !== 'undefined' && sea === '1' ? 'checked' : '' %> class="filter-checkbox">
                    <span class="filter-text">🌊 海沿い</span>
                </label>
                <label class="filter-label">
                    <input type="checkbox" name="rest" value="1" <%= typeof rest !== 'undefined' && rest === '1' ? 'checked' : '' %> class="filter-checkbox">
                    <span class="filter-text">☕ 休憩所</span>
                </label>
                <label class="filter-label">
                    <input type="checkbox" name="onsen" value="1" <%= typeof onsen !== 'undefined' && onsen === '1' ? 'checked' : '' %> class="filter-checkbox">
                    <span class="filter-text">♨️ 温泉</span>
                </label>
                <label class="filter-label">
                    <input type="checkbox" name="mountain" value="1" <%= typeof mountain !== 'undefined' && mountain === '1' ? 'checked' : '' %> class="filter-checkbox">
                    <span class="filter-text">⛰️ 山・自然</span>
                </label>
                <label class="filter-label">
                    <input type="checkbox" name="history" value="1" <%= typeof history !== 'undefined' && history === '1' ? 'checked' : '' %> class="filter-checkbox">
                    <span class="filter-text">⛩️ 歴史</span>
                </label>
            </div>
        </div>

        <div class="search-actions">
            <button type="submit" class="btn-search">検索 (Search)</button>
            <a href="/all-destinations" class="btn-reset">リセット (Reset)</a>
        </div>
    </div>
</form>
        
        
        <div class="travel-grid" style="margin-top: 30px;">
            <% if (travels.length > 0) { %>
                <% travels.forEach(function(travel) { %>
                    <a href="/travel/<%= travel.id %>" class="travel-card card-hover-effect">
                        <div class="travel-card-content">
                            <h3><%= travel.name %></h3>
                            <p class="location-text"><%= travel.location %></p>
                            <% if (travel.description) { %>
                                <p class="travel-card-desc">
                                    <%= travel.description.substring(0, 150) %>...
                                </p>
                            <% } %>
                        </div>
                        <div class="travel-card-image">
                            <img src="<%= travel.imageUrl || 'https://via.placeholder.com/300' %>" alt="<%= travel.name %>" class="img-zoom">
                        </div>
                    </a> 
                <% }); %>
            <% } else { %>
                <p>該当する場所はありません。</p> <% } %>
        </div>
    </main>
    <footer class="site-footer">
        <div class="container footer-content">
            <div class="footer-left">
                <div class="footer-logo">Shimane<span>Guide</span></div>
                <p class="footer-desc">
                    神々の国、島根。<br>
                    忘れられない感動と癒やしの旅をサポートします。
                </p>
                <div class="social-icons">
                    <a href="#" class="social-link">Instagram</a>
                    <a href="#" class="social-link">X (Twitter)</a>
                    <a href="#" class="social-link">Facebook</a>
                </div>
            </div>

            <div class="footer-links">
                <h4>サイトマップ</h4>
                <ul>
                    <li><a href="#">ホーム</a></li>
                    <li><a href="#">観光スポット</a></li>
                    <li><a href="#">グルメ・お土産</a></li>
                    <li><a href="#">アクセス</a></li>
                </ul>
            </div>

            <div class="footer-links">
                <h4>インフォメーション</h4>
                <ul>
                    <li><a href="#">プライバシーポリシー</a></li>
                    <li><a href="#">よくある質問</a></li>
                    <li><a href="#">お問い合わせ</a></li>
                </ul>
            </div>
        </div>

        <div class="footer-bottom">
            <p>&copy; 2025 Shimane IT College Student Project. All Rights Reserved.</p>
        </div>
    </footer>

    <a href="#" id="backToTop" class="back-to-top">↑</a>
    <script>
        window.addEventListener('load', function() {
            const loader = document.getElementById('page-loader');
            if (loader) {
                loader.style.opacity = '0';
                setTimeout(() => {
                    loader.style.display = 'none';
                }, 500);
            }
        });
    </script>
    <script src="/js/mobile-menu.js"></script>
    <script src="js/transition.js"></script>
    <script>
    // 1. Hiệu ứng Header khi cuộn trang
    window.addEventListener('scroll', function() {
        const header = document.querySelector('.main-header');
        if (window.scrollY > 80) {
            header.classList.add('scrolled');
        } else {
            header.classList.remove('scrolled');
        }
    });

    // 2. Ẩn Shimanekko Loader
    window.addEventListener('load', function() {
        const loader = document.getElementById('page-loader');
        setTimeout(() => {
            loader.style.opacity = '0';
            setTimeout(() => loader.style.display = 'none', 500);
        }, 800); // Cho mèo nhảy lâu hơn chút như bạn muốn
    });
</script>
</body>
</html>