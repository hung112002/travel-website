<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>全ての観光地</title> <link rel="stylesheet" href="/css/style.css">
</head>
<div id="page-loader" class="page-loader">
    <div class="loader-content">
        <img src="/images/shimanekko.png" alt="Loading..." class="shimanekko-loader">
        <p class="loader-text">島根を探索中...</p>
    </div>
</div>

    <header class="main-header">
        <div class="nav-container">
            <div class="logo">
                <a href="/">
                    <svg width="35" height="35" viewBox="0 0 100 100" fill="none" class="logo-icon">
                        <circle cx="35.5" cy="35.5" r="17.5" stroke="#c5a059" stroke-width="8"/>
                        <circle cx="64.5" cy="35.5" r="17.5" stroke="#c5a059" stroke-width="8"/>
                        <circle cx="35.5" cy="64.5" r="17.5" stroke="#c5a059" stroke-width="8"/>
                        <circle cx="64.5" cy="64.5" r="17.5" stroke="#c5a059" stroke-width="8"/>
                    </svg>
                    <span class="logo-text">Shimane<span>Travel</span></span>
                </a>
            </div>
            <nav class="main-nav">
                <a href="/" class="nav-link-hover">ホーム</a>
                <a href="/cuisine" class="nav-link-hover">グルメ</a>
                <a href="/people" class="nav-link-hover">匠・人物</a>
                <a href="/all-destinations" class="nav-link-hover">全ての観光地</a>
                
                <% if (user) { %>
                    <div class="user-actions">
                        <a href="/profile" class="nav-link-profile">
                            👤 <%= user.username %>
                        </a>
                        <a href="/logout" class="nav-link-logout">ログアウト</a>
                    </div>
                <% } else { %>
                    <a href="/login" class="login-btn-premium">ログイン</a>
                <% } %>
            </nav>
        </div>
    </header>

    <main class="detail-container">
        <h1>全ての観光地</h1>
        
        <form action="/all-destinations" method="GET" class="search-bar">
    <input type="text" name="search" placeholder="キーワード ..." value="<%= typeof keyword !== 'undefined' ? keyword : '' %>">
    
    <div class="filter-options">
        <label><input type="checkbox" name="sea" value="1" <%= typeof sea !== 'undefined' && sea ? 'checked' : '' %>> 海沿い</label>
        
        <label><input type="checkbox" name="rest" value="1" <%= typeof rest !== 'undefined' && rest ? 'checked' : '' %>> 休憩所</label>
        
        <label><input type="checkbox" name="onsen" value="1" <%= typeof onsen !== 'undefined' && onsen ? 'checked' : '' %>> ♨️ 温泉</label>
        
        <label><input type="checkbox" name="mountain" value="1" <%= typeof mountain !== 'undefined' && mountain ? 'checked' : '' %>> ⛰️ 山・自然</label>
        
        <label><input type="checkbox" name="history" value="1" <%= typeof history !== 'undefined' && history ? 'checked' : '' %>> ⛩️ 歴史</label>
    </div>

    <button type="submit">絞り込む</button>
</form>
        
        <div class="travel-grid" style="margin-top: 30px;">
            <% if (travels.length > 0) { %>
                <% travels.forEach(function(travel) { %>
                    <a href="/travel/<%= travel.id %>" class="travel-card card-hover-effect">
                        <div class="travel-card-content">
                            <h3><%= travel.name %></h3>
                            <p class="location-text"><%= travel.location %></p>
                            <% if (travel.description) { %>
                                <p class="travel-card-desc">
                                    <%= travel.description.substring(0, 150) %>...
                                </p>
                            <% } %>
                        </div>
                        <div class="travel-card-image">
                            <img src="<%= travel.imageUrl || 'https://via.placeholder.com/300' %>" alt="<%= travel.name %>" class="img-zoom">
                        </div>
                    </a> 
                <% }); %>
            <% } else { %>
                <p>該当する場所はありません。</p> <% } %>
        </div>
    </main>
    <footer class="site-footer">
        <div class="container footer-content">
            <div class="footer-left">
                <div class="footer-logo">Shimane<span>Guide</span></div>
                <p class="footer-desc">
                    神々の国、島根。<br>
                    忘れられない感動と癒やしの旅をサポートします。
                </p>
                <div class="social-icons">
                    <a href="#" class="social-link">Instagram</a>
                    <a href="#" class="social-link">X (Twitter)</a>
                    <a href="#" class="social-link">Facebook</a>
                </div>
            </div>

            <div class="footer-links">
                <h4>サイトマップ</h4>
                <ul>
                    <li><a href="#">ホーム</a></li>
                    <li><a href="#">観光スポット</a></li>
                    <li><a href="#">グルメ・お土産</a></li>
                    <li><a href="#">アクセス</a></li>
                </ul>
            </div>

            <div class="footer-links">
                <h4>インフォメーション</h4>
                <ul>
                    <li><a href="#">プライバシーポリシー</a></li>
                    <li><a href="#">よくある質問</a></li>
                    <li><a href="#">お問い合わせ</a></li>
                </ul>
            </div>
        </div>

        <div class="footer-bottom">
            <p>&copy; 2025 Shimane IT College Student Project. All Rights Reserved.</p>
        </div>
    </footer>

    <a href="#" id="backToTop" class="back-to-top">↑</a>
    <script>
        window.addEventListener('load', function() {
            const loader = document.getElementById('page-loader');
            if (loader) {
                loader.style.opacity = '0';
                setTimeout(() => {
                    loader.style.display = 'none';
                }, 500);
            }
        });
    </script>
    <script src="js/transition.js"></script>
    <script>
    // 1. Hiệu ứng Header khi cuộn trang
    window.addEventListener('scroll', function() {
        const header = document.querySelector('.main-header');
        if (window.scrollY > 80) {
            header.classList.add('scrolled');
        } else {
            header.classList.remove('scrolled');
        }
    });

    // 2. Ẩn Shimanekko Loader
    window.addEventListener('load', function() {
        const loader = document.getElementById('page-loader');
        setTimeout(() => {
            loader.style.opacity = '0';
            setTimeout(() => loader.style.display = 'none', 500);
        }, 800); // Cho mèo nhảy lâu hơn chút như bạn muốn
    });
</script>
</body>
</html>